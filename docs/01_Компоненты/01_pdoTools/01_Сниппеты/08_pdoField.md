# pdoField

Этот сниппет одновременно обладает возможностями [getResourceField][1] и [UltimateParent][2], то есть выводит любое поле указанного ресурса или его родителя, включая ТВ параметры.

Отличием от аналогов является работа с документами любых контекстов и возможность указать дополнительные параметры при выборке, что позволяет не выводить поля, например, скрытых ресурсов. Так же с помощью указания параметра **&class** можно получить поле любого объекта MODX. Может быть вызван как [фильтр вывода][3].

## Параметры

Принимает [общие параметры выборки и результатов][4] pdoTools и некоторые свои:

| Параметр           | По умолчанию     | Описание                                                                                                          |
| ------------------ | ---------------- | ----------------------------------------------------------------------------------------------------------------- |
| **&id**            | Текущий документ | Идентификатор ресурса.                                                                                            |
| **&field**         | pagetitle        | Поле ресурса.                                                                                                     |
| **&top**           |                  | Выбирает родителя указанного **&id** на уровне **&top**.                                                          |
| **&topLevel**      |                  | Выбирает родителя указанного **&id** на уровне **&topLevel** от корня контекста.                                  |
| **&default**       |                  | Указывает поле ресурса, которое вернётся, если **&field** окажется пуст. Более быстрый аналог фильтра *:default=* |
| **&output**        |                  | Указывает строку, которая вернётся, если и **&default**, и **&field** оказались пусты.                            |
| **&toPlaceholder** |                  | Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.                   |

*Если указаны **&top** или **&topLevel**, а **&context** нет, то для его определения будет сделан дополнительный запрос в базу данных.*

Работу с чанками сниппет не поддерживает, так как возвращает значение только одного поля.

## Примеры

Сниппет может быть вызван как фильтр вывода:

``` php
[[*id:pdofield=`longtitle`]]
```

При этом вы можете указывать параметры JSON массивом. Например, выбор второго родителя от ресурса и вывод его «longtitle»:

``` php
[[*id:pdofield=`{"top":2,"field":"longtitle"}`]]
```

Но лучше использовать обычный вызов - он и быстрее, и удобнее:

``` php
[[pdoField?
    &id=`[[*id]]`
    &field=`longtitle`
    &top=`2`
]]
```

[1]: http://rtfm.modx.com/extras/revo/getresourcefield
[2]: http://modx.com/extras/package/ultimateparent
[3]: /ru/02_Система/01_Основы/02_Фильтры_ввода_и_вывода.md
[4]: /ru/01_Компоненты/01_pdoTools/04_Общие_параметры.md
