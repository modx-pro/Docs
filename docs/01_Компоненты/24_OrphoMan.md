Компонент для борьбы с орфографическими ошибками и опечатками на сайте.

[![](https://file.modx.pro/files/4/5/6/456757754d258eedb62fb2ee94a91e3f.png)](https://file.modx.pro/files/4/5/6/456757754d258eedb62fb2ee94a91e3f.png)

## Системные настройки

* **mail_to** - здесь нужно указать email администратора, которому будут отправляться уведомления об ошибках.  
* **highligt** - Включает выделение ошибок на странице. По умолчанию, включено. Но выделение будет работать только, если пользователь авторизован в контексте mgr.  
* **auto_delete** - разрешает автоматическое удаление ошибок, если они не найдены на странице. Т.е. ошибку исправили, страничку обновили в фронт-энде, ошибка из таблички удалилась автоматом. По умолчанию он включен.  
* **tpl** - оборачивает слово для выделения в тег `<span class="error-text" title="{comment}">{text}</span>`. Если нужно изменить вид подсветки, меняем css (класс «error_text»).  
* **email_subject** - шаблон заголовка уведомления.  
* **email_body** - шаблон текста уведомления.  
* **frontend_css** - Файл со стилями для фронтенда. Если не указан, то стили загружаться не будут.
* **frontend_js** - Файл со скриптами для фронтенда. Если не указан, то скрипты загружаться не будут.

## Начало работы

После установки нужно в системных настройках указать email администратора, которому будет высылаться уведомление. Нет email — нет уведомления. Это самая важная настройка. Остальное можно не менять.  
Чтобы компонент заработал, нужно куда-нибудь пристроить сниппет **Orphoman**. Можно в конкретный ресурс, тогда только в нем можно править ошибки. А можно в шаблон, тогда работать будет во всех ресурсах, у которых используется данный шаблон.
У сниппета **Orphoman** есть несколько параметров.

* **min** - минимально допустимое количество символов. По умолчанию, 5.
* **max** - максимально допустимое количество символов. По умолчанию, 100.
* **tpl** - шаблон диалога.
* **tplButton** - шаблон кнопки "Нашли ошибку", которая отображается внизу страницы. Если ну указан, то кнопка не покажется.
* **loadjGrowl** - управляет загрузкой библиотеки jGrowl. Если она уже загружается на сайте, то тут можно её отключить.  

Пример вызова `[[!Orphoman? &min=`3` &max=`50`]]`  

Работает компонент очень просто. Нашли ошибку, выделили и нажали Ctrl+Enter. Если сообщение успешно отправлено, то вы увидите соответствующее уведомление.

## Использование на мобильных устройствах

На мобильных устройствах логика работы следующая - сначала нужно выделить слово, а затем тапнуть на веделение. Появится кнопочка с предложением отправить сообщение.
[![](https://file.modx.pro/files/b/2/1/b21ae634c94ffe1528c4a7b2ff58e2fa.jpg)](https://file.modx.pro/files/b/2/1/b21ae634c94ffe1528c4a7b2ff58e2fa.jpg)  
Дальше как описано выше - диалог->отправить->сообщение о результате.  
Также реализована адаптация для мобильных - диалог сообщения об ошибке в зависимости от разрешения и ориентации телефона меняет размер и положение на странице.

## Управление ошибками

Список всех ошибок можно посмотреть в менеджере в меню **Приложения**. Для того, чтобы перейти на страницу ресурса, в котором найдена ошибка, нужно в таблице кликнуть на ошибку.

[![](https://file.modx.pro/files/2/2/1/221e45255328f3eb91d177ef0c264ec2.png)](https://file.modx.pro/files/2/2/1/221e45255328f3eb91d177ef0c264ec2s.jpg)
