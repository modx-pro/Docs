---
author: alexsoin
head:
  - - link
    - rel: canonical
      href: https://zencod.ru/articles/moxi/
---

# Начало работы

Данный инструмент используется для более быстрой настройки проектов на modx revolution непосредственно после установки cms на хостинг.

## Системные требования

- **Modx Revolution** - `2.7` < `3`
- **PHP** - >= `7.4`

::: warning
MODX3 не поддерживается
:::

## Быстрый старт

::: warning
Запускать настройку можно исключительно на свежеустановленную систему! Запуская данный инструмент на уже рабочем сайте НЕЛЬЗЯ!
:::

Подключаемся через `ssh`, переходим в корень сайта и клонируем [репозиторий](https://github.com/alexsoin/moxi):

```bash
git clone https://github.com/alexsoin/moxi.git
```

### WEB

Открываем `http://домен_сайта/moxi/` видим интерфейс настройки.

![setup](https://file.modx.pro/files/1/a/8/1a8465d4200e8d6e997f54d3c24e244e.png)

Здесь можно настроить следующие параметры перед запуском настройки:

- Название сайта
- Название панели управления - введя `panel` вместо `http://домен_сайта/manager/` в панель управления можно будет попасть по адресу `http://домен_сайта/panel/`
- Список устанавливаемых дополнений
- Удаление установочных файлов moxi после окончания настройки

По окончанию установки видим лог выполнения и над ним кнопки открывающие модальные окна с ошибками и предупреждениями.

На этом настройка завершена.

### CLI

Альтернативный способ запуска `moxi`. В отличие от web интерфейса нельзя изменить список устанавливаемых дополнений. Преимущество запуска через cli в том, что тут уже не будет ограничения на времени выполнения скрипта.

В том же терминале `ssh`, в котором склонировали репозиторий, переходим в директорию `moxi`.

```bash
cd moxi
```

И запускаем через php версии 7.4 утилиту:

```bash
php7.4 ./cli.php
```

::: tip
На разных хостингах запуск php необходимой версии происходит по-разному, где-то `php7.4`, где-то `php74`, где-то `/usr/bin/php74/bin/php`. Для того чтобы узнать как на вашем хостинге запустить php нужной версии, читайте документацию, либо обращайтесь в техподдержку хостинга.
:::

Вводим логин и пароль администратора панели управления cms modx.

Далее указываем название сайта(если нужно его сменить), либо нажимаем сразу `enter` и тогда название не изменится.

Далее изменение названия панели управления, тут аналогично.

На следующем шаге отобразится список запускаемых процессов, соглашаемся, вводим `Y` либо сразу нажимаем `enter` и начнётся настройка.

Настройка завершена.

## Структура

Приложение имеет следующую структуру:

```bash
├── app.php                            // Главный класс
├── cli.php                            // Класс для работы в командной строке
├── web.php                            // Класс для работы через web интерфейс
├── index.html                         // UI
├── _frontend/                         // Исходники UI компонента
└── src/                               // Исходные данные проекта
    ├── content/                       // Контент
    │   ├── core/                      // Файлы директории core которые будут скопированы на сайт
    │   │   ├── components/
    │   │   │   └── translit/          // Фикс компонента translit
    │   │   └── elements/
    │   │       ├── zoomx/             // Файлы zoomx
    │   │       │   ├── controllers/   // Контроллеры zoomx App\Controllers
    │   │       │   ├── plugins/       // Плагины zoomx
    │   │       │   ├── snippets/      // Сниппеты zoomx
    │   │       │   └── templates/     // Шаблоны zoomx
    │   │       ├── chunks/            // Чанки fenom
    │   │       └── templates/         // Шаблоны fenom
    │   │           └── layouts/       // Макеты шаблонов fenom
    │   ├── pages/                     // Контент ресурсов
    │   ├── plugins/                   // Контент плагинов
    │   ├── snippets/                  // Контент сниппетов
    │   └── templates/                 // Контент шаблонов
    └── data/                          // Импортируемые данные
        ├── addons.php                 // Список пакетов разделенных по провайдерам
        ├── clientConfig.php           // Поля и группы полей для пакета ClientConfig
        ├── plugins.php                // Список плагинов и их настроек
        ├── providers.php              // Список провайдеров пакетов
        ├── resources.php              // Список ресурсов
        ├── settings.php               // Список системных настроек и их значений
        ├── snippets.php               // Список сниппетов
        ├── templates.php              // Список шаблонов
        └── tvs.php                    // Список тв параметров
```
