---
title: RBK Money

items: [
  { text: 'Выбор способа оплаты на сайте', link: 'choosing-payment-method' },
]

dependencies: miniShop2
categories: payment
---

# RBK Money

Для того, чтобы принимать оплату через RBK Money вам необходимо сначала [зарегистрировать](https://rbkmoney.ru/Common/Registereshop.aspx) магазин в этой системе.

В настройках магазина RBK Money вам нужно указать следующие параметры:

1. **Секретный ключ** — представляет из себя любой набор букв и цифр и используется для проверки подлинности уведомления об оплате.
2. **Оповещение об оплате** — URL оповещения об оплате. Должен быть `http://site.ru/assets/components/minishop2/payment/rbk.php` (где site.ru – адрес вашего сайта)
3. Также можете включить автоматическое перенаправление пользователя на сайт магазина при успешной оплате
4. **Метод получения хеш-значения** — MD5
5. **Кодировка** — UTF-8

![Настройка RBK Money](https://file.modx.pro/files/e/8/c/e8cd3091c5cd35e04e0c1813dd9d4e37.jpg)

## Настройка MODX

В MODX вам нужно настроить следующие параметры (находятся в разделе «Платежи» пространства имен minishop2):

1. **Идентификатор магазина в RBK Money** — присваивается каждому зарегистрированному магазину в системе RBK Money. Узнать его можно в личном кабинете RBK Money.

    ![Настройка MODX](https://file.modx.pro/files/e/4/0/e40158b524118483788b6dfd8050488f.jpg)

2. **Секретный ключ RBK Money** — секретный ключ, который ввели в настройках магазина в RBK Money в пункте 1
3. **Страница успешной оплаты RBK Money** и **страница отказа от оплаты RBK Money**. Идентификаторы страниц в MODX при успешной оплате или при отмене оплаты соответственно. Рекомендуется указать страницы с корзиной, чтобы покупатель видел свой заказ после возврата с сервиса. При пустых значениях пользователь будет переправлен на главную страницу.
4. **Способ пополнения в RBK Money**. Необязательный параметр. Если его указать, то пользователю будет сразу предложен данный способ оплаты минуя экран выбора. Например, если указать bankcard, то пользователь сразу перейдет на страницу ввода номера карты.

    Возможные значения:

    - `inner` или `rbkmoney` — оплата с кошелька RBK Money
    - `bankcard` — банковская карта Visa/MasterCard
    - `exchangers` — электронные платежные системы
    - `terminals` — платёжные терминалы
    - `prepaidcard` — предоплаченная карта RBK Money
    - `postrus` — Почта России
    - `mobilestores` — салоны связи
    - `transfers` — системы денежных Переводов
    - `ibank` — интернет банкинг
    - `sberbank` — банковский платёж
    - `svyaznoy` — Связной
    - `euroset` — Евросеть
    - `contact` — Contact
    - `mts` — МТС
    - `uralsib` — кассы Уралсиб
    - `handybank` — HandyBank
    - `ocean` — Океан Банк
    - `ibankuralsib` — Интернет-банк Уралсиб

В будущем, возможно, добавятся и другие способы пополнения. Значения можете уточнить в документации к RBK Money или связаться с технической поддержкой RBK Money.

![Настройка - 1](https://file.modx.pro/files/4/f/9/4f9a7dd0f3c8dd5abdeab0052a1fdd16.jpg)

::: warning
Также не забудьте включить новый метод оплаты и назначить его в вариантах доставки.
:::

![Настройка - 2](https://file.modx.pro/files/e/1/7/e17abbacd95e883167c9ca98dd25de35.jpg)
