# Сниппет cfCities

Сниппет для вывода текущего города, списка городов и окна выбора города. При вызове подключает файлы со стилями CSS и скриптами JavaScript, указанные в системных настройках компонента.

![Вывод сниппета](https://file.modx.pro/files/a/3/f/a3f58aecef516b7c1e3a87949c837d0d.png)

## Параметры

| Название        | По умолчанию          | Описание                                                                                         |
|-----------------|-----------------------|--------------------------------------------------------------------------------------------------|
| **&tpl**        | `cfCities.row`        | ID товара                                                                                        |
| **&tplWrapper** | `cfCities.outer`      | Чанк-обёртка, для заворачивания всех результатов. Понимает один плейсхолдер: `[[+rows]]`           |
| **&selected**   | `selected="selected"` | Если текущий город, в плейсхолдер `[[+selected]]` будет записано значение этого параметра          |
| **&where**      |                       | Массив дополнительных параметров выборки, закодированный в JSON                                  |
| **&sortby**     | `id`                  | Любое поле города для сортировки списка городов по нему. Доступные значения: `id`, `key`, `name` |
| **&sortdir**    | `ASC`                 | Направление сортировки: по убыванию `DESC` или возрастанию `ASC`                                 |
| **&limit**      |                       | Ограничение количества результатов выборки                                                       |

## Примеры вызова

Для работы с компонентом достаточно в любом месте сайта вызвать сниппет не кешируемым и без каких-либо параметров

``` modx
[[!cfCities]]
```

Если вы хотите отсортировать список городов по алфавиту, тогда используйте следующий вызов сниппета

``` modx
[[!cfCities?
  &sortby=`name`
]]
```

Если у вас большой список городов и вам надо вывести только опредёленные города, то используйте параметр `where`

``` modx
[[!cfCities?
  &where=`{"name:IN":["Москва","Санкт-Петербург","Екатеринбург","Тюмень"]}`
]]
```

Или же вы можете ограничить количество результатов выборки

``` modx
[[!cfCities?
  &limit=`12`
]]
```
