---
title: Системные настройки
---
# Системные настройки

Все настройки находятся в разделе **Система → Системные настройки** с пространством имён `ms3variants`.

## Основные настройки

### ms3variants_enabled

Включение/выключение компонента.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_enabled` |
| Тип | Да/Нет |
| По умолчанию | `true` |

При отключении варианты не будут обрабатываться в корзине и на фронтенде.

---

### ms3variants_default_active

Активность новых вариантов по умолчанию.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_default_active` |
| Тип | Да/Нет |
| По умолчанию | `true` |

Определяет, будет ли новый вариант сразу активен после создания.

---

### ms3variants_sku_pattern

Шаблон генерации артикула (SKU) для вариантов.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_sku_pattern` |
| Тип | Текст |
| По умолчанию | `{product_article}-{option_values}` |

**Доступные плейсхолдеры:**

| Плейсхолдер | Описание |
|-------------|----------|
| `{product_id}` | ID товара |
| `{product_article}` | Артикул товара |
| `{option_values}` | Значения опций через дефис |
| `{variant_id}` | ID варианта |

**Примеры:**

```
{product_article}-{option_values}     → ABC-123-red-XL
{product_id}-{option_values}          → 42-red-XL
SKU-{product_article}-{variant_id}    → SKU-ABC-123-1
```

## Настройки остатков

### ms3variants_check_stock

Включить контроль остатков.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_check_stock` |
| Тип | Да/Нет |
| По умолчанию | `true` |

При включении:
- Нельзя добавить в корзину больше, чем есть на складе
- Нельзя изменить количество в корзине сверх остатков
- Варианты без остатков могут быть скрыты (см. `ms3variants_show_out_of_stock`)

---

### ms3variants_show_out_of_stock

Показывать варианты без остатков.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_show_out_of_stock` |
| Тип | Да/Нет |
| По умолчанию | `true` |

**При включении (true):**
- Все варианты отображаются
- Варианты без остатков показаны с пометкой "Нет в наличии"
- Кнопка добавления в корзину заблокирована

**При выключении (false):**
- Варианты без остатков скрыты
- Отображаются только доступные для покупки

---

### ms3variants_deduct_stock_status

Статус заказа для списания остатков.

| Параметр | Значение |
|----------|----------|
| Ключ | `ms3variants_deduct_stock_status` |
| Тип | Число |
| По умолчанию | `2` |

ID статуса заказа, при достижении которого остатки вариантов уменьшаются.

**Стандартные статусы MiniShop3:**

| ID | Статус |
|----|--------|
| 1 | Новый |
| 2 | Оплачен |
| 3 | Отправлен |
| 4 | Доставлен |
| 5 | Отменён |

**Значение `0`** — списание отключено.

::: tip Рекомендация
Устанавливайте статус "Оплачен" (2) для предоплатных магазинов или "Отправлен" (3) для магазинов с оплатой при получении.
:::
