# Пример работы со Штуковинами

При создании сайта часто требуется вносить какие-то правки. Добавлять-удалять какие-то элементы на странице. Сегодня хочу рассказать как это делается в теме **handyShop** на основе MagicThemes. Кстати, не только в этой теме но и в mtBlog.
Ситуации: сделали сайт, но соц. сети еще не создавали или ссылок пока нет, поэтому пока не выводите их.
Или Хотим показать соц сети, но не знаем где лучше их разместить в шапке или подвале. А можно просто посмотреть как оно будет после?

- Да и да!

![пример](https://file.modx.pro/files/a/d/d/adddb60e722eeb2c6973e7bb7a60b326.jpg)

## Заполняем данными в настройке

Первым делом у нас уже должен быть список ссылок на соц-сети. Для примера я возьму 3 соц. Вк, Ок, Телеграм. Идем в настройки темы, там открываем вкладку Контакты и данные.

![](https://file.modx.pro/files/0/7/d/07d79192f9abf4d18de2ea1ec844ec78.png)

Там на против настройки Социальные сети – жмем на иконку редактирования (синяя с карандашиком). Жмем.
Открывается окно редактирования настройки. В теме уже настроено поле для вывода. Обращу ваше внимание лишь на пару моментов.

Тип данных – MIGX. Для этого типа вы сможете выбрать медиаисточник и сам конфиг, созданный в MIGX. В данном случае это соц. Сети.
Поддерживается на данный момент только одна вложенность
Для заполнения данными вы просто нажимаете зеленую кнопку Добавить и у вас уже появляются поля для заполнения. Жмем 3 раза и выбираем какие соц сети заполнять:

![](https://file.modx.pro/files/f/3/8/f38325c4146d3c200aa47595614f2c90.png)

Думаю, не составит труда заполнить поля. После чего жмем Обновить. Данные в табличке обновились, но не сохранились. Вы можете еще отредактировать эти данные или любые другие в соседних вкладках и после того как закончили можно нажать кнопку – _Сохранить изменения_.
Все поля которые были изменены отправятся на сервер для записи в базу данных.
Я намеренно ушел от моментального сохранения, чтобы избежать не запланированных глюков. Например случайно закрыли окно или ввели не те данные и не помните что там было и чтобы не потерять старое, если новое совсем плохо.
Так-с. Теперь нам нужно подумать куда вывести эти иконки.

## Определяемся с областями и ячейками для вставки/редактирования, Меняем Штуковины

Давайте, например, вместо телефонов поставим соц-иконки, а телефоны выведем с лева, там где время работы (пока только для ПК) Причем в шапке нам нужен только один телефон:

![](https://file.modx.pro/files/b/d/1/bd137a26a43bc296d1a7ace58942ea10.png)

Далее, посмотрим что у нас с областями и ячейками в админке:

![](https://file.modx.pro/files/e/0/a/e0a870b882d84ccf4972ca606ec37ce2.png)

Видим что у нас тут 2 ячейки **header-top1** и **header-top2**.
Ход логики такой:

1. В ячейке header-top2 меняем штуковину контактов на штуковину, которая работает с соц-сетями.
2. А в ячейке header-top1 через штуковину добавляем отобразить еще телефон. Теперь заходим в Штуковины (Пакеты –> MagicThemes –> Штуковины). Для простоты применим фильтр по нужной позиции header-top2, жмем редактировать.

    ![](https://file.modx.pro/files/1/a/b/1ab5bbf8a6b277b6fdad69e974cf4b19.png)

    Тут у нас уже выбраны настройки, сменим лишь Путь-Значение. В поле путь к файлу – выбирается папка набора штуковин, а в поле Значение выбирается необходимая Штука. Т.е. у вас в папке может быть какой-то заранее заготовленный набор полезного. Это все папки-файлы, поэтому редактировать и менять что-то в самих файлах сможет только подготовленный человек. И так, в данной теме заложен вывод соц-сетей и есть штуковина которая это сможет красиво нам вывести. Выбираем:

    ![](https://file.modx.pro/files/6/a/f/6affea77bb2dfeb7c50be9ede3c76e84.png)

> Если мы меняем Значение Штуковины, то от предыдущей штуки останутся параметры ее. Это сделано намеренно, поскольку у многих штуковин параметры могут пересекаться и поддерживаться. Так же вы видите что что-то поменялось, и если вдруг вы ошиблись, то сможете вернуть назад Значение штуковины или оставить некоторые параметры на всякий случай.
> **А если вы создаете новую Штуку, то вы увидите только ее параметры.**

Нам старые параметры в данном случае не нужны, поэтому мы их удаляем красненькой кнопочкой.

![](https://file.modx.pro/files/4/0/a/40a8dcb48235a5f6fb940596ed864c01.png)

Во вкладке Сниппет пусто. Тк Штуковина изначально работает только с настройкой соц-сетей. Во вкладка Общие нас интересует только одно поле: Стилизация. Тут предусмотрено 3 варианта отображения иконок: Обычное, в квадратике, в кружке. В квадратике и кружке – они по больше будут, а у нас места не много, поэтому выбираем **Обычное**. Заголовок мы не используем – оставляем поле пустым и оно не выведется.

Далее перейдем на вкладку **Стилизация**. Тут с большего все понятно. Единственное – размер иконок. Если необходимо уменьшить-увеличить размер – выбирается множитель. 0 или 1- означает по умолчанию. Тут так же можно выбрать цвет иконок.
По умолчанию, если цвет не заполнен, то иконки окрашиваются в свои брендовые цвета:

![](https://file.modx.pro/files/2/6/6/266fc717b1bfc68f5e6c4da0cca1e285.png)

Если же выбран цвет, то все иконки окрашиваются в этот цвет. В общем-то мы оставим иконки в белом цвете. И выберем еще цвет наведения, чтобы было заметнее.

![](https://file.modx.pro/files/a/2/9/a298e5896c47c0901ef6a64aeed51810.png)

Чуть ниже – можно выбрать отступы margin этой штуковины от других блоков верстки. Необходима настройка в случае наличия нескольких Штук в одной ячейке. Жмем ОБНОВИТЬ. Данные тут сохраняются сразу. Чистим кеш (не всегда нужно, но полезно помнить) и Смотрим на сайте изменения:

![](https://file.modx.pro/files/2/a/7/2a79c121f6b0c0511837903256f3dbea.png)

Теперь разберемся с телефонами. В top1 Заходим в редактирование штуковины для ячейки header-top1 и сразу переключаемся во вкладку Общие. Там добавляем Телефон.

![](https://file.modx.pro/files/0/b/7/0b7c9c4c44f735dee73fb0a1962717af.png)

Вы, кстати можете поменять порядок следования информации, удалив и заново выбрав. В поле кол-во номеров вписываем 1. (будет отображаться только один первый телефон). В стилизации ничего не меняю, тк там уже все настроено.
Смотри на сайте результат.

![](https://file.modx.pro/files/1/9/4/1940a1ad965067816c5accb04472a4e8.png)

Вот таким образом мы можем добавлять, менять, удалять данные и оформление.
Например, если бы мы в соц сетях выбрали окантовку, то получилось бы:

![](https://file.modx.pro/files/8/2/5/82597d4173a991e43f3d3859a9a46866.png)

Как видите на этом небольшом примере можно настраивать штуки по мелочам не задумываясь о коде.
