---
name: ABTest
---
# ABTest

## Описание

Пакет ABTest предназначен для помощи в проверке маркетинговых гипотез на сайте путем равновероятного показа посетителям сайта группы настроенных шаблонов, на которых при помощи дополнительных средств (не входящих в данный пакет) можно собирать аналитику по достижению необходимых уникальных для каждой группы шаблонов целей, после чего делать вывод, какой из шаблонов наиболее эффективен в достижении цели.

## Настройка

После установки компонента, в административной панели сайта будет доступен новый пункт верхнего меню **Пакеты/ABTest**.

Переходим в интерфейс:

## Создаем группу и связи шаблонов

> Например, вы хотите протестировать светлую и темную тему сайта и выяснить, на какой из них пользователи чаще нажимают на кнопку обратной связи. У вас есть по 2 версии (светлая и темная) главной страницы, страницы контактов и страницы о компании. В рамках компонента — это одна группа, внутри которой будет 3 связи, а в каждой связи будет фигурировать по 2 шаблона (светлая и темная версия).

![ABTest - 1](https://file.modx.pro/files/1/d/b/1dba6c27b7e4b7871bbc00d34dcfef01.jpg)

1. Создаем группу "Тестирование темной и светлой версии". Делаем ее активной при помощи галочки "Активна". Сохраняем.
2. Внутри группы создаем:
    1. Первую связь для главной страницы. Основной шаблон ресурса указываем тот, **который сейчас установлен у ресурса**. В нашем случае — это "Главная страница (1)". Подменяемые шаблоны указываем как массив ID или один ID: \[4\]. Делаем связь активной при помощи галочки. Сохраняем.
    2. Вторую связь для страницы "О нас". Основной шаблон: "О нас (2)", подменяемые шаблоны: \[5\]. Делаем связь активной при помощи галочки. Сохраняем.
    3. Третья связь для страницы "Контакты". Основной шаблон: "Контакты (3)", подменяемые шаблоны: \[6\]. Делаем связь активной при помощи галочки. Сохраняем.
3. В светлых версиях шаблона при клике на кнопку "Обратная связь" вы отправляете цель "feedback-light", а в темных версиях, вы отправляете цель "feeback-dark" (данная настройка осуществляется вами непосредственно в коде ваших шаблонов)

Настройка завершена.

Теперь при посещении страницы, где шаблон будет совпадать с одним из исходных шаблонов, за посетителем закрепится определенный столбец из таблицы соответствия исходного и подменяемых шаблонов:

![ABTest - 2](https://file.modx.pro/files/6/d/e/6de00c84bde30b71881580acfe1170a0.jpg)

> Рассмотрим пример для понимания логики подмены шаблонов. Например, если пользователь посетит страницу с шаблоном 2, то ему с равной вероятностью будет показан один из двух шаблонов: 2 или 5. Давайте предположим, что ему показан шаблон 5. За пользователем будет закреплен порядковый номер среди этих двух шаблонов — номер 2. Теперь при последующих посещениях страниц с шаблонами из этой группы пользователю всегда будет показываться шаблон под номером 2 из каждой связи внутри этой группы. То есть, другими словами, он всегда будет видеть темные версии страниц. А любые нажатия на кнопку "Обратная связь" для этого пользователя всегда будут отправлять цель "feedback-dark".
>
> ![ABTest - 3](https://file.modx.pro/files/d/5/3/d538b9d7be764af23f393a852b6c0496.jpg)
>
> Соответственно, если пользователю случайным образом была показана светлая версия, то за ним закрепится именно светлая версия страниц и он будет генерировать статистику по цели "feedback-light".
