# Слаги

Слаги — SEO-дружественные алиасы для значений фильтров.

## Назначение

Слаги преобразуют значения фильтров в URL-friendly формат:

| Оригинал | Слаг |
|----------|------|
| Apple Inc. | apple-inc |
| Красный | krasnyj |
| 16 ГБ | 16-gb |

## Автоматическая генерация

При первом появлении значения фильтра система автоматически создаёт слаг:

1. Транслитерация (кириллица → латиница)
2. Приведение к нижнему регистру
3. Замена пробелов и спецсимволов на дефисы
4. Удаление повторяющихся дефисов

## Таблица слагов

| Столбец | Описание |
|---------|----------|
| **Ключ** | Ключ фильтра (vendor, color, size) |
| **Значение** | Оригинальное значение |
| **Слаг** | SEO-алиас |
| **Дата создания** | Когда был создан |

## Редактирование

### Изменение слага

1. Найдите нужную запись
2. Дважды кликните по полю **Слаг**
3. Введите новое значение
4. Нажмите Enter или кликните вне поля

### Правила для слагов

- Только латинские буквы, цифры и дефисы
- Без пробелов и спецсимволов
- Уникальность в пределах ключа фильтра
- Не начинается и не заканчивается дефисом

## Поиск и фильтрация

### Поиск

Введите текст в поле поиска для фильтрации по:
- Ключу
- Значению
- Слагу

### Фильтр по ключу

Выберите ключ фильтра в выпадающем списке для отображения только его значений.

## Массовые операции

### Регенерация слагов

Пересоздаёт слаги для выбранных записей по правилам транслитерации:

1. Выделите записи
2. Нажмите **Регенерировать**

### Удаление

1. Выделите записи
2. Нажмите **Удалить**

При удалении слага:
- Значение остаётся в системе
- При следующем запросе слаг будет создан заново

## Импорт/Экспорт

### Экспорт

```
Действия → Экспорт в CSV
```

Формат CSV:
```csv
key,value,slug
vendor,"Apple Inc.",apple-inc
color,"Красный",krasnyj
```

### Импорт

```
Действия → Импорт из CSV
```

Загрузите файл с колонками `key`, `value`, `slug`.

## Использование в URL

### Формат URL по умолчанию

```
/catalog/vendor_apple/color_krasnyj/
```

### Кастомный формат через паттерны

```
/catalog/apple/krasnyj/
```

## Программный доступ

```php
$mfilter = $modx->services->get('mfilter');
$slugManager = $mfilter->getSlugManager();

// Получить слаг
$slug = $slugManager->getOrCreate('vendor', 'Apple Inc.');
// 'apple-inc'

// Получить значение по слагу
$value = $slugManager->getValue('vendor', 'apple-inc');
// 'Apple Inc.'

// Проверить существование
$exists = $slugManager->hasSlug('vendor', 'apple-inc');
```

## Советы

1. **Редактируйте осторожно** — изменение слага меняет URL, что влияет на SEO
2. **Используйте редиректы** — при изменении слага настройте 301-редирект
3. **Проверяйте уникальность** — одинаковые слаги для разных значений вызовут конфликты
