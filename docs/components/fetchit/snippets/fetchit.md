# Сниппет FetchIt

Данный сниппет отправляет форму с помощью **Fetch API** и запускает сниппет указанный в параметре `snippet` передавая ему параметры. По умолчанию вызывает сниппет **FormIt**, но вы можете использовать и свой собственный. Также загружает на фронтенде скрипт обработки ответа сервера.

## Параметры сниппета

| **Параметры**            | Значение по умолчанию      |                                                                         |
|--------------------------|----------------------------|-------------------------------------------------------------------------|
| **form**                 | `tpl.FetchIt.example`      | Чанк с формой, которую нужно обработать                                 |
| **snippet**              | `FormIt`                   | Запускаемый сниппет для обработки формы                                 |
| **actionUrl**            | `[[+assetsUrl]]action.php` | Адрес коннектора, на который отправляется форма                         |
| **clearFieldsOnSuccess** | `1`                        | Данный параметр отвечает за очистку данных формы после успешного ответа |

Все остальные параметры, которые вы укажете при вызове **FetchIt** будут переданы сниппету указанному в параметре `snippet`.

## Пример вызова

::: code-group

```modx
[[!FetchIt?
  &form=`myForm.tpl`
  &hooks=`email`
  &emailSubject=`Тема письма`
  &emailTo=`info@domain.com`
  &validate=`name:required,email:required`
  &validationErrorMessage=`В форме содержатся ошибки!`
  &successMessage=`Сообщение успешно отправлено!`
]]
```

```fenom
{'!FetchIt' | snippet : [
  'form' => 'myForm.tpl',
  'hooks' => 'email',
  'emailSubject' => 'Тема письма',
  'emailTo' => 'info@domain.com',
  'validate' => 'name:required,email:required',
  'validationErrorMessage' => 'В форме содержатся ошибки!',
  'successMessage' => 'Сообщение успешно отправлено!',
]}
```

:::
