Сниппет генерации меню. Может заменять Wayfinder, и позволяет более гибко указывать параметры.

Например, умеет строить меню сразу из нескольких родителей, отображая их как вместе, так и отдельными ветками. 

Существенный прирост скорости дает только при первом запуске, дальше Wayfinder не особо уступает, благодаря грамотному кэшированию.

##Параметры
###Параметры выборки ресурсов
Эти параметры определяют, какие ресурсы появятся в генерируемом меню.

Название | Описание | По умолчанию
---|---|---
**&parents** | Список родителей, через запятую, для поиска результатов. Если поставить 0 — выборка не ограничивается. Если id родителя начинается с дефиса, он и его потомки исключаются из выборки. |  Текущий ресурс
**&level** | Уровень генерируемого меню. | 0 (не ограниченно)
**&resources** | Список ресурсов, через запятую, для вывода в результатах. Если id ресурса начинается с дефиса, этот ресурс исключается из выборки. |
**&templates** | Список шаблонов, через запятую, для фильтрации результатов. Если id шаблона начинается с дефиса, ресурсы с ним исключается из выборки. | 
**&where** | Массив дополнительных параметров выборки, закодированный в JSON. |
**&displayStart** | Включить показ начальных узлов меню. Полезно при указании более одного «parents». | 0
**&context** | Ограничение выборки по контексту ресурсов. |
**&showHidden** | Показывать ресурсы, скрытые в меню. | 0
**&showUnpublished** | Показывать неопубликованные ресурсы. | 0
**&showDeleted** | Показывать удалённые ресурсы. | 0
**&previewUnpublished** | Включить показ неопубликованных документов, если у пользователя есть на это разрешение. | 0
**&hideSubMenus** | Спрятать неактивные ветки меню. | 0
**&select** | Список полей для выборки, через запятую. Можно указывать JSON строку с массивом, например {"modResource":"id,pagetitle,content"}. |
**&sortby** | Любое поле ресурса для сортировки, включая ТВ параметр, если он указан в параметре «includeTVs». Можно указывать JSON строку с массивом нескольких полей. Для случайно сортировки укажите «RAND()» | menuindex
**&sortdir** | Направление сортировки: по убыванию или возрастанию. | ASC
**&limit** | Ограничение количества результатов выборки. Можно использовать «0». | 0
**&offset** | Пропуск результатов от начала. | 0
**&checkPermissions** | Укажите, каеи разрешения нужно проверять у пользователя при выводе документов.


###Параметры шаблонов
Эти параметры устанавливают чанки, которые содержат шаблоны для генерации меню. 

Название | Описание
---|---
**&tplOuter** | Чанк обертка всего блока меню. По умолчанию: `@INLINE <ul[[+classes]]>[[+wrapper]]</ul>`
**&tpl** | Имя чанка для оформления ресурса. Если не указан, то содержимое полей ресурса будет распечатано на экран. По умолчанию: `@INLINE <li[[+classes]]><a href="[[+link]]" [[+attributes]]>[[+menutitle]]</a>[[+wrapper]]</li>`
**&tplParentRow** | Чанк оформления контейнера с потомками
**&tplParentRowHere** | Чанк оформления текущей категории
**&tplHere** | Чанк текущего документа
**&tplInner** | Чанк обертки внутренних пунктов меню. Если пуст — будет использовать «tplOuter»
**&tplInnerRow** | Чанк обертка внутреннего пункта меню
**&tplInnerHere** | Чанк обертка активного пункта меню
**&tplParentRowActive** | Чанк оформления активной категории
**&tplCategoryFolder** | Специальный чанк оформления категории. Категория — это документ с isfolder = 1 и или нулевым шаблоном, или с атрибутом «rel=category»
**&tplStart** | Чанк оформления корневого пункта, при условии, что включен «displayStart». По умолчанию: `@INLINE <h2[[+classes]]>[[+menutitle]]</h2>[[+wrapper]]`

###Параметры CSS классов
Эти параметры задают значение плейсхолдера **[[+classes]]** для различных элементов меню.

Название | Описание
---|---
**&firstClass** | Класс для первого пункта меню. По умолчанию: **first**
**&lastClass** | Класс последнего пункта меню. По умолчанию: **last**
**&hereClass** | Класс для активного пункта меню. По умолчанию: **active**
**&parentClass** | Класс категории меню.
**&rowClass** | Класс одной строки меню.
**&outerClass** | Класс обертки меню.
**&innerClass** | Класс внутренних ссылок меню.
**&levelClass** | Класс уровня меню. Например, если укажите «level», то будет «level1», «level2» и т.д.
**&selfClass** | Класс текущего документа в меню.
**&webLinkClass** | Класс документа-ссылки.

###Прочие параметры
Название | Описание | По умолчанию
---|---|---
**&toPlaceholder** | Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем вместо вывода на экран. |
**&plPrefix** | Префикс для выставляемых плейсхолдеров | wf.
**&showLog** | Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекcте «mgr». | 0
**&fastMode** | Быстрый режим обработки чанков. Все необработанные теги (условия, сниппеты и т.п.) будут вырезаны. | 0
**&cache** | Кэширование результатов работы сниппета. | 0
**&cacheTime** | Время актуальности кэша, в секундах. | 3600
**&scheme** | Схема формирования url, передаётся в modX::makeUrl(). | -1 (относительно site_url)
**&useWeblinkUrl** | Генерировать ссылку с учетом класса ресурса. |
**&rowIdPrefix** | Префикс id="" для выставления идентификатора в чанк. |
**&hereId** | Id документа, текущего для генерируемого меню. Нужно указывать только если скрипт сам его неверно определяет, например при выводе меню из чанка другого сниппета. |


##Примеры
Обычный вывод меню из корня сайта в один уровень:
```
[[pdoMenu?
	&parents=`0`
	&level=`1`
]]
```

Вывод с исключением определенных родителей:
```
[[pdoMenu?
	&parents=`-10,-15`
	&level=`2`
]]
```

Вывод меню сразу из двух родителей, с показом корневых точек:
```
[[pdoMenu?
	&parents=`10,15`
	&displayStart=`1`
]]
```

Вывод всех документов в один уровень:
```
[[pdoMenu? 
  &parents=`0` 
  &tplInner=`@INLINE [[+wrapper]]` 
  &tplParentRow=`@INLINE <li[[+classes]]><a href="[[+link]]" [[+attributes]]>[[+menutitle]]</a></li>[[+wrapper]]`
]]
```
