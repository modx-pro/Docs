Сниппет для вывода пользователей сайта через pdoTools.

Формирует список пользователей сайта с учетом групп и ролей. 

## Параметры

Использует все [общие параметры pdoTools][1] за исключением специфичных для класса *modResource*, а так же свои собственные:

Название | Описание | По умолчанию
---|---|---
**&groups** | Список групп пользователей, через запятую. Можно использовать имена и id. Если значение начинается с тире (-), значит пользователь не должен присутствовать в этой группе.
**&roles** | Список ролей пользователей, через запятую. Можно использовать имена и id. Если значение начинается с тире (-), значит такой роли у пользователя быть не должно. |
**&users** | Список пользователей для вывода, через запятую. Можно использовать поля username и id. Если значение начинается с тире (-), этот пользователь исключается из выборки. |
**&showInactive** | Выводить в том числе и неактивных пользователей | 0
**&showBlocked** | Выводить в том числе и блокированных пользователей | 0
**&class** | Класс пользователя |  modUser
**&returnIds** | Установите значение «1», чтобы вернуть строку со списком id ресурсов, вместо оформленных результатов. Все указанные шаблоны игнорируются. |
**&showLog** | Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекте «mgr». | 0
**&toPlaceholder** | Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.
**&sortby** | Любое поле пользователя для сортировки. Можно указывать JSON строку с массивом нескольких полей. Для случайно сортировки укажите "RAND()" | modUser.id
**&sortdir** | Направление сортировки: по убыванию (DESC) или возрастанию (ASC). | ASC
**&wrapIfEmpty** | Включает вывод чанка-обертки (**&tplWrapper**), даже если результатов нет.
**&tplWrapper** | Чанк-обёртка, для заворачивания всех результатов. Понимает один плейсхолдер: `[[+output]]`. Не работает вместе с параметром **&toSeparatePlaceholders**.

Все шаблоны по умолчанию пусты. Для вывода результата в виде HTML, нужно указать, как минимум, значение шаблона **&tpl**.

## Примеры
При запуске без параметров, сниппет выводит всех пользователей сайта.
```
[[!pdoUsers]]
```

Вывод пользователей группы Authors:
```
[[!pdoUsers?
	&groups=`Authors`
	&tpl=`tpl.Authors.author`
	&sortdir=`asc`
]]
```

Можно комбинировать его с pdoPage\getPage:
```
[[!pdoPage?
	&element=`pdoUsers`
	&groups=`Authors`
	&tpl=`tpl.Authors.author`
	&sortdir=`asc`
]]
```

Встроенные чанки:
```
[[!pdoUsers?
	&roles=`Member`
	&tpl=`@INLINE <p>Имя - [[+fullname]], ID - [[+id]]</p>`
	&sortby=`id`
	&sortdir=`asc`
]]
```

## Демо
[Вывод авторов и друзей](http://store.simpledream.ru/friends.html) репозитория Simple Dream.

[![](http://st.bezumkin.ru/files/b/7/9/b792406326ccd13a79ce417c6e7d2306s.jpg)](http://st.bezumkin.ru/files/b/7/9/b792406326ccd13a79ce417c6e7d2306.png)

[1]: components/pdotools/general-parameters
