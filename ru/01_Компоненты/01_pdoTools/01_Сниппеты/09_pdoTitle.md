# pdoTitle

Сниппет выводит оформленный тег [title][0] на страницу сайта, который состоит из имени страницы, имён родителей этой страницы и, других параметров.

В первую очередь он предназначен для визульного различия документов с постраничной навигацией.

[![](https://file.modx.pro/files/5/7/d/57d52e8252998a06aa312fb6809e8fe6s.jpg)](https://file.modx.pro/files/5/7/d/57d52e8252998a06aa312fb6809e8fe6.png)

## Параметры

Сниппет **не принимает** никаких [общих параметров pdoTools][3], из-за специфики своей работы.
Но передаёт все полученные параметры во вложенный вызов [pdoCrumbs][2].

 | Параметр             | По умолчанию | Описание                                                                                    |
 | -------------------- | ------------ | ------------------------------------------------------------------------------------------- |
 | **&id**              | 0            | Идентификатор ресурса.                                                                      |
 | **&limit**           | 3            | Лимит выборки родителей ресурса.                                                            |
 | **&titleField**      | longtitle    | Поле текущего ресурса для вывода в заголовке страницы.                                      |
 | **&cache**           |              | Кэширование выборки родителей ресурса для заголовка страницы.                               |
 | **&cacheTime**       | 0            | Время актуальности кэша, в секундах.                                                        |
 | **&tplPages**        | @INLINE ...  | Шаблон оформления пагинации в заголовке страницы.                                           |
 | **&pageVarKey**      | page         | Имя переменной для поиска номера страницы в url.                                            |
 | **&tplSearch**       | @INLINE ...  | Шаблон оформления поискового запроса в заголовке страницы.                                  |
 | **&queryVarKey**     | query        | Имя переменной поискового запроса в url.                                                    |
 | **&minQuery**        | 3            | Минимальная длина поискового запроса для вывода в заголовке страницы.                       |
 | **&outputSeparator** | /            | Разделитель элементов в заголовке страницы.                                                 |
 | **&registerJs**      | 1            | Вставить на страницу javascript с переменными для поддержки **&ajaxMode** сниппета pdoPage. |

## Поддержка навигации

pdoTitle определяет, когда на страницу был передан параметр **&pageVarKey** и выводит в `title` указание на это.

![](https://file.modx.pro/files/b/c/c/bcc933780544f16050d9fefd8bdd8c0a.png)]

Функция работает и при включенном **&ajaxMode** сниппета pdoPage, тогда заголовок меняется без перезагрузки страницы.

## Поддержка поиска

Если в url был передан параметр **&queryVarKey**, то сниппет вставит для него чанк **&tplSearch** в тег.

![](https://file.modx.pro/files/3/6/4/3649234d5f4e88426cc5ed528e713405.png)

По умолчанию вставляется плейсхолдер `[[+mse2_query]]` сниппета [mSearch2][1].

## Кэширование

pdoTitle нужно вызывать **некэшированным**, чтобы он мог реагировать на параметры в url, но вы можете кэшировать внутренний вызов выборки родителей ресурса, который работает через [pdoCrumbs][2].

Экономия выйдет небольшой, потому что для `title` не нужно выбирать много ресурсов, но такая функция может пригодиться на слабых хостингах.

## Javascript переменные

Если включен параметр **&registerJs**, то сниппет вставит в страницу свои переменные в объекте pdoTitle.

Вы можете найти там разделитель элементов`title` и шаблон оформления постраничной навигации.

## Примеры

Обычный вызов на странице:

``` php
<title>[[!pdoTitle]] / [[++site_name]]</title>
```

Вызов с увеличенной выборкой родителей ресурса и кэшированием:

``` php
<title>[[!pdoTitle?limit=`5`&cache=`1`]] / [[++site_name]]</title>
```

[0]: http://htmlbook.ru/html/TITLE
[1]: /ru/01_Компоненты/03_mSearch2/01_Сниппеты/01_mSearch2.md
[2]: /ru/01_Компоненты/01_pdoTools/01_Сниппеты/04_pdoCrumbs.md
[3]: /ru/01_Компоненты/01_pdoTools/04_Общие_параметры.md
