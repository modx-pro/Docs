# pas.order

Сниппет оформления заказа `pas.order`

[![](https://file.modx.pro/files/6/e/3/6e3061d943b2f54fd99f5ee3d8e9e56bs.jpg)](https://file.modx.pro/files/6/e/3/6e3061d943b2f54fd99f5ee3d8e9e56b.png)

## Параметры

| Параметр         | По умолчанию | Описание                                                                                                             |
| ---------------- | ------------ | -------------------------------------------------------------------------------------------------------------------- |
| **tpl**          | pas.order    | Чанк оформления                                                                                                      |
| **processRates** | 1            | Обрабатывать стоимость контента                                                                                      |
| **userFields**   |              | Ассоциативный массив соответствия полей заказа полям профиля пользователя в формате "поле заказа" => "поле профиля". |

*Можно использовать и другие [общие параметры pdoTools][0104]*

## Оформление

Сниппет рассчитывает на работу с [чанком Fenom][010103]. Он передаёт в него 5 переменных:

- `order` - массив заказа из сессии пользователя
  - `delivery` - выбранный способ доставки
  - `payment` - выбранный способ оплаты
  - `cost` - общая стоимость заказа
- `deliveries` - массив доступных свойств доставки заказа покупателю
- `payments` - массив способов оплаты
- `form` - массив с заполненными данными от покупателя. Там могут быть:
  - `email` - адрес покупателя
  - `receiver` - имя получателя
  - `phone` - телефон
  - `index` - почтовый индекс
  - `region` - область
  - `city` - город
  - `street` - улица
  - `building` - дом
  - `room` - комната
  - могут быть и другие значения, заданные при помощи параметра `&userFields`
- `errors` - массив полей формы, заполненных с ошибками

### Плейсхолдеры

Вы можете увидеть все доступные плейсхолдеры заказа просто указав пустой чанк:

```php
<pre>
{'!pas.order'|snippet:[
'tpl'=>''
]}
</pre>
```

## Создание заказа

Данный сниппет рекомендуется вызывать в связке с другими на странице оформления заказа:

```php
{'!pas.order'|snippet} <!-- Форма оформления заказа, скрывается после его создания -->
{'!pas.get.order'|snippet} <!-- Вывод информации о заказе, показывается после его создания -->
```

[0104]: /ru/01_Компоненты/01_pdoTools/04_Общие_параметры.md
[0101]: /ru/01_Компоненты/01_pdoTools/
[010103]: /ru/01_Компоненты/01_pdoTools/03_Парсер.md
[010101]: /ru/01_Компоненты/01_pdoTools/01_Сниппеты/01_pdoResources.md
