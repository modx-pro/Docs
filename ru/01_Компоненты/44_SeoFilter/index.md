**SeoFilter** - это компонент, который позволяет сгенерировать виртуальные страницы по параметрам из фильтров, подменять их через AJAX и многое другое.

## Основной механизм работы:

1. Создаёте правило, добавив туда поля и прописав шаблоны для названия ссылки, заголовок и текстов, куда будут подставляться значения, чтобы страницы различались.
2. Получаете на выходе десятки/сотни, а то и тысячи страниц.
3. Все виртуальные страницы хранятся в специальной таблице, где можно индивидуально задать уникальный текст, адрес страницы, провести подсчёт товаров.

В шаблонах текста, помимо простой подстановки слова, например "красный" вместо переменной `{$color}`, доступны и другие параметры, включая склонения (красного, красному), подсчёты результатов `{$count}`, id ресурса `{$id}`, текущий номер страницы результатов `{$page}`. Подробнее на странице [Замен в SEO текстах][3].

Самое главное - что обработкой текстов занимается шаблонизатор **Fenom**. То есть вы сможете сделать любые условия, обработку, получать значения полей ресурсов, использовать модификаторы и многое другое .  

Дополнение умеет автоматически интегрироваться с mFilter2 ([mSearch2][1]), "на лету" может заменять заголовки, тексты, хлебные крошки на странице.

С помощью SeoFilter можно быстро сделать гибкий SEO блог по тегам. Вот [инструкция][4]. Компонент умеет выводить меню из виртуальных страниц, с учётом того, будут ли статьи по тегу. В этом случае mSearch2 не нужен, достаточно только pdoResources из [pdoTools][2]. Сам pdoTools необходим для работы дополнений.

## Рекомендации, по первичному запуску:

1. **Загляните в системные настройки**, убедитесь что включены дружественные URL и в разделе компонента поправьте для себя настройки - поля для замен по умолчанию, подсчёты и другие опции. Чтобы активировать склонения - нужно будет получить токен в сервисе morpher.ru;

2. **Добавьте поля** в первой вкладке, желательно все те, которые используете в фильтрах (для того, чтобы SeoFilter мог подсчитывать результаты по ним);

3. **Создайте правило**, добавив необходимые поля (сразу будете видеть синоним для названия переменной), прописав шаблон для ссылки(используется в меню) и тексты; При использовании подсчётов - укажите дополнительные условия в формате JSON.

4. **Настройте вёрстку** в чанках и шаблонах, добавив классы (нужны для ajax замен - sf_h1, sf_content...) для заголовков, текстов и пропишите плейсхолдеры, которые будут заменять оригинальный контент страницы. Пример: ```<h1 class="sf_h1">[[!+sf.h1:default=`[[*pagetitle]]`]]</h1>```

5. **Убедитесь, что всё работает** - все слова собраны корректно, страницы сгенерированы и открываются с изменённым контентом. (В системных настройках компонента - есть опция отключения "пустых" страниц, то есть будет возвращаться ошибка 404 там, где нет результатов)

## Объекты компонента и их параметры

### **Поле**

Поле, фильтр, столбец - можно называть по разному. Основное, что нужно понимать для корректной настройки - это то, чем отличается класс `msProductData` от `modResource` или `msProductOptions`. Подробнее на отдельной странице: [Поле][6]

### **Правило**

Это основная сущность компонента, которая связывает страницу, поля и значения для формирования ссылок. Подробнее на отдельной странице: [Правило][7]

### **Словарь**

В словарь попадают все слова, собранные при добавлении поля, отслеженные при добавлении новых товаров или добавленные вручную. Подробнее на отдельной странице: [Словарь][8]

### **Таблица URL**

Сюда попадают все сгенерированные ссылки при сохранении правила. Также при добавлении новых слов - ссылки автоматически сгенерируются и появятся здесь. Подробнее на отдельной странице: [Таблица URL][9]

[1]: /ru/01_Компоненты/03_mSearch2
[2]: /ru/01_Компоненты/01_pdoTools
[3]: /ru/01_Компоненты/44_SeoFilter/05_Замены_в_SEO_текстах.md
[4]: /ru/01_Компоненты/44_SeoFilter/02_Быстрый_старт_без_mFilter2_и_miniShop2.md
[5]: /ru/01_Компоненты/44_SeoFilter/04_Сниппеты/03_sfMenu.md
[6]: /ru/01_Компоненты/44_SeoFilter/06_Объекты_компонента/01_Поле.md
[7]: /ru/01_Компоненты/44_SeoFilter/06_Объекты_компонента/01_Правило.md
[8]: /ru/01_Компоненты/44_SeoFilter/06_Объекты_компонента/01_Словарь.md
[9]: /ru/01_Компоненты/44_SeoFilter/06_Объекты_компонента/01_Таблица_URL.md
