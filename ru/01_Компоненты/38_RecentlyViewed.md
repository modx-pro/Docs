Список недавно просмотренных страниц

## Возможности
* Фиксирует просмотры страниц по критериям
* Выводит список недавно просмотренных страниц


## Фиксация просмотров

Для этого используется плагин *RecentlyViewed*, в котором сохраняется в сессию факт просмотра страницы, если она соответствует критериям. 
По умолчанию фиксируются просмотры товаров minishop2 (*class_key = msProduct*)

## Вывод списка просмотренных страниц

Для этой задачи используется сниппет *RecentlyViewed*, который является оберткой над любым сниппетом вывода. По умолчанию - *msProducts*. Соответственно, оформлением результатов занимается вызываемый сниппет, которому передаются все параметры вызова.  

### Параметры сниппета *RecentlyViewed*: 

| Название              | По умолчанию                                      | Описание                                                                  |
| --------------------- | ------------------------------------------------- | ------------------------------------------------------------------------- |
| **&tpl**         | tpl.RecentlyViewed.row     | Чанк оформления ресурса       |
| **&tplEmpty**     | tpl.RecentlyViewed.empty  | Чанк оформления в случае, если вызываемый сниппет не вернул результат или еще нет других просмотренных страниц       |  
| **&element**     | msProducts  | Сниппет, который будет вызван для выборки ресурсов и их обработки       |  
  

#### Системная настройка компонента:

| Название                     | По умолчанию                        | Описание                                                                         |
| ---------------------------- | ----------------------------------- | -------------------------------------------------------------------------------- |
| **recently_session_var**    | RecentlyViewed                                 | Ключ массива сессии, куда будут сохраняться просмотренные страницы
| **recently_max_store_count**    | 10                                 | Количество сохраняемых страниц
| **recently_filter**    | RecentlyViewed                                 | Массив параметров в json-формате, который используется для определения целевой страницы. Возможно указывать любые значения любых полей для стандартного объекта modResource. По умолчани установлено значение для выборки товаров msProduct 

