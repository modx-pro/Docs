# Интеграция

Начиная с версии 2.0 ms2Gallery умеет интегрироваться с разными дополнениями.

## miniShop2

Замена стандартной галереи ms2 даёт вам следующее:

1. Единообразие с остальными страницами.
2. Возможность отключать файлы, без удаления.
3. Дополнительные поля файлов.
4. Теги файлов (с оговоркой).

Для правильной работы вам нужно:

1. Обновить miniShop2 до версии **2.4.8-pl**.
2. Включить системную настройку **ms2gallery_sync_ms2**.
3. Импортировать картинки из ms2 в ms2Gallery через консольный скрипт `core/components/ms2gallery/cli/import_ms2.php`
4. Проверить, что родная галерея спряталась, а выводится только ms2Gallery c источником файлов для товаров (по умолчанию MS2 Images). Очень важно, чтобы новая галерея подхватила старый источник, иначе будут генерироваться дубликаты.

Имейте в виду, что старая галерея просто скрыта, но записи в её БД будут синхронизироваться с новой.
Это сделано для поддержки родных сниппетов ms2 и сторонних дополнений.

[![](https://file.modx.pro/files/a/a/7/aa7d937eb6536671e83b44e733b6cbc4s.jpg)](https://file.modx.pro/files/a/a/7/aa7d937eb6536671e83b44e733b6cbc4.png)

Есть одна особенность, о которой нужно знать: если вы будете импортировать картинки в старую галерею через её родной процессор, то они будут также обновляться в новой галерее, но c изменением id файлов.
Теги файлов привязаны к этим id и при таком раскладе будут сбиваться.

То есть:
— или все действия с файлами вы делаете только через админку и процессоры ms2Gallery (и тогда синхронизация работает в одну сторону старой галереи).
— или вы импортируете файлы через сторонние дополнения в старую галерею, они синхронизируются с новой и вы просто
не используете теги.

## Tickets

У Tickets и вовсе нет своей галерее. Вы не видите в админке файлы, загружаемые пользователем.

Для исправления этого недостатка вам нужно:

1. Обновить Tickets до версии **1.8.0-pl**.
2. Включить системную настройку **ms2gallery_sync_tickets**.
3. Импортировать файлы тикетов в ms2Gallery через консольный скрипт `core/components/ms2gallery/cli/import_tickets.php`
4. Проверить, чтобы галерея использовала правильный источник файлов (по умолчанию Tickets Files).

После этого вы сможете загружать файлы в тикеты с фронтенда и видеть их в админке. Удалять, редактировать и т.д.

[![](https://file.modx.pro/files/3/5/d/35dd39bad850cf7b5ad7da4f2bc066bds.jpg)](https://file.modx.pro/files/3/5/d/35dd39bad850cf7b5ad7da4f2bc066bd.png)
[![](https://file.modx.pro/files/2/d/4/2d44c2350a51adb99f1f0d1e6c4e905fs.jpg)](https://file.modx.pro/files/2/d/4/2d44c2350a51adb99f1f0d1e6c4e905f.png)

Тут нужно только помнить, что если ссылка на файл вставлена в содержимое страницы, то при удалении через ms2Gallery она не будут убрана — так что следите за этим самостоятельно. Ну и сортировка на вывод через **TicketMeta** никак не влияет.

С тегами ситуация такая же, как и у ms2. А в остальном — нормальная двухсторонняя синхронизация файлов.
