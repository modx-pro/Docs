# Картинки на странице

**ms2Gallery** умеет выводит картинки прямо при генерации страницы ресурса, безо всяких сниппетов.

Вам нужно просто активировать системную настройку **ms2gallery_set_placeholders** и вы можете использовать в контенте такие плейхолдеры:

* `[[+ms2g.0]]` - распечатанный массив со всеми данными 1й картинки ресурса. Вторая картинка будет `[[+ms2g.1]]`
* `[[+ms2g.0.url]]` - ссылка на оригинальную картинку
* `[[+ms2g.0.small]]` - ссылка на одно превью
* `[[+ms2g.0.medium]]` - ссылка на другое превью
* `[[+ms2g.0.name]]` - название картинки
* и т.д.

Понятное дело, что выборка всех картинок генерирует дополнительные запросы в БД, поэтому по умолчанию она отключена.

## Настройки

Первая настройка указывает оформление, другие две предназначены для экономии ресурсов.

### ms2gallery_placeholders_tpl

Имя ТВ параметра или чанка для оформления плейсхолдера `[[+ms2g.0]]`, содержимое которого будет использовано для оформления картинки. Например:

```html
<a href="[[+url]]">
    <img src="[[+120x90]]" />
</a>
```

Логика работы такая:

1. Если включен вывод плейсхолдеров, и настройка **ms2gallery_placeholders_tpl** не пуста то
2. Проверяем, привязан ли к текущему ресурсу ТВ с указанным именем.
3. Если нет, то ищем чанк с таким именем
4. Если получаем непустой ТВ или чанк, то используем его содержимое для оформления плейсхолдеров на странице.
5. В противном случае, будет как и раньше, распечатанный масив со всеми свойствами.

Вы можете спокойно писать тексты на сайте, разбавляя их вставками тегов `[[+ms2g.1]]` или там `[[+ms2g.25]]`.
Учитывая, что плейсхолдеры выставляются не по **id**, а по **rank**, вы можете легко менять порядок вывода картинок на странице простым перетаскиванием их в галерее.

Ну а внешний вид выводимых картинок можно указывать или в ТВ этого ресурса, или в настройках этого ТВ по умолчанию, или в общем для всех чанке.

### ms2gallery_placeholders_for_templates

Список id шаблонов через запятую, для которых нужно включить функцию выставления плейсхолдеров.
Настройка пуста по умолчанию, поэтому плейсхолдеры выставляются для всех.

### ms2gallery_placeholders_thumbs

Список превью картинок, которые нужно выбирать для показа на странице.
По умолчанию там тоже пусто, и выбираются все превьюшки подряд. Но вы можете указать что-то типа "medium,small" и сэкономить на лишних запросах в БД.
