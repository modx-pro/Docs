# TicketLatest

Выводит ленту последних созданных и\\или прокомментированных тикетов.

**Сниппет вызывается не кэшированным.*

## Параметры

| Название             | По умолчанию               | Описание                                                                                                                                                               |
| -------------------- | -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **&action**          | Comments                   | Режим работы сниппета. Доступно Comments или Tickets                                                                                                                   |
| **&cacheKey**        |                            | Имя кэша сниппета. Если пустое - кэширование результатов будет отключено.                                                                                              |
| **&cacheTime**       | 1800                       | Время кэширования.                                                                                                                                                     |
| **&depth**           | 10                         | Глубина поиска ресурсов от каждого родителя.                                                                                                                           |
| **&fastMode**        | 0                          | Если включено - в чанк результата будут подставлены только значения из БД. Все необработанные теги MODX, такие как фильтры, вызов сниппетов и другие - будут вырезаны. |
| **&includeContent**  | 0                          | Выбирать поле контент у ресурсов.                                                                                                                                      |
| **&includeTVs**      |                            | Список ТВ параметров для выборки, через запятую. Например: «action,time» дадут плейсхолдеры `[[+action]]` и `[[+time]]`.                                               |
| **&limit**           | 10                         | Лимит выборки результатов                                                                                                                                              |
| **&offset**          | 0                          | Пропуск результатов с начала выборки                                                                                                                                   |
| **&outputSeparator** |                            | Необязательная строка для разделения результатов работы.                                                                                                               |
| **&parents**         |                            | Список категорий, через запятую, для поиска результатов. По умолчанию выборка ограничена текущим родителем. Если поставить 0 - выборка не ограничивается.              |
| **&resources**       |                            | Список ресурсов, через запятую, для вывода в результатах. Если id ресурса начинается с минуса, этот ресурс исключается из выборки.                                     |
| **&showDeleted**     | 0                          | Показывать удалённые ресурсы.                                                                                                                                          |
| **&showHidden**      | 1                          | Показывать ресурсы, скрытые в меню.                                                                                                                                    |
| **&showLog**         | 0                          | Показывать дополнительную информацию о работе сниппета. Только для авторизованных в контекте «mgr».                                                                    |
| **&showUnpublished** | 0                          | Показывать неопубликованные ресурсы.                                                                                                                                   |
| **&sortby**          | createdon                  | Сортировка выборки.                                                                                                                                                    |
| **&sortdir**         | DESC                       | Направление сортировки.                                                                                                                                                |
| **&toPlaceholder**   |                            | Если не пусто, сниппет сохранит все данные в плейсхолдер с этим именем, вместо вывода не экран.                                                                        |
| **&tpl**             | tpl.Tickets.comment.latest | Чанк оформления для каждого результата                                                                                                                                 |
| **&tvPrefix**        |                            | Префикс для ТВ плейсхолдеров, например «tv.». По умолчанию параметр пуст.                                                                                              |
| **&user**            |                            | Выбрать только элементы, созданные этим пользователем.                                                                                                                 |
| **&where**           |                            | Строка, закодированная в JSON, с дополнительными условиями выборки.                                                                                                    |

*\*Список может быть расширен общими параметрами [pdoTools][1] так как Tickets работает на этой библиотеке.*

## Примеры

* Вывод последних тикетов
  
```php
[[!TicketLatest? &limit=`5` &fastMode=`1` &action=`tickets` &tpl=`tpl.Tickets.ticket.latest`]]
```

* Вывод последних комментариев
  
```php
[[!TicketLatest? &limit=`5` &fastMode=`1` &action=`comments` &tpl=`tpl.Tickets.comment.latest`]]
```

[1]: /ru/01_Компоненты/01_pdoTools/04_Общие_параметры.md
