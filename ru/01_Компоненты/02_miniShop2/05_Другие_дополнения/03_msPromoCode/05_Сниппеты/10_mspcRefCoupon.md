# mspcRefCoupon

Сниппет реализует вывод данных реферального промо-кода и заказов по нему.

## Параметры

| Название            | По умолчанию                                                                                                                                                                                          | Описание                              |
| ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------- |
| **user_id**         |                                                                                                                                                                                                       | ID юзера. По-умолчанию, текущий юзер. |
| **outputSeparator** | `\n`                                                                                                                                                                                                  | Разделитель списка заказов.           |
| **toPlaceholder**   | `0`                                                                                                                                                                                                   | Записать результат в плейсхолдер.     |
| **tpl**             | `@INLINE <p><b>Код реферального промо-кода</b>: {$coupon}</p><p><b>Количество применений</b>: {$orders_count}</p><ul>{$orders}</ul>`                                                                  | Чанк вывода.                          |
| **tplOrder**        | `@INLINE <li><p><b>Пользователь</b>: {$fullname ?: $username}</p><p><b>Сумма заказа</b>: {$order_cost}</p><p><b>Сумма скидки</b>: {$discount_amount}</p><p><b>Дата заказа</b>: {$createdon}</p></li>` | Чанк списка заказов.                  |

## Примеры

### Постраничный вывод списка заказов

```php
[[!pdoPage?
    &element=`mspcRefCoupon`
    &limit=`2`
]]
[[!+page.nav]]
```

### Без списка заказов

Можно убрать вывод списка заказов, просто исключив его из шаблона `tpl`:

```php
[[!mspcRefCoupon
    &tpl=`@INLINE <p><b>Код реферального промо-кода</b>: {$coupon}</p><p><b>Количество применений</b>: {$orders_count}</p>`
]]
```
