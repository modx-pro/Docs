Генерирует промо-код через N секунд пребывания на странице и [выводит всплывашку][1] для юзера.
Обычно вызывается на каждой странице сайта, чтобы точнее отслеживать время пребывания.

[![](https://file.modx.pro/files/1/4/5/14526526bf347d2880e3c55057359051.png)](https://file.modx.pro/files/1/4/5/14526526bf347d2880e3c55057359051.png)

### Параметры

Название					| По умолчанию									| Описание
----------------------------|-----------------------------------------------|------------------------------------------------------------------------------------------
**list**		            | `generate`        			                | Поле "Список" для промо-кода.
**format**		            | `[a-zA-Z0-9]{12}`        			            | Формат промо-кода с возможностью использовать regex-like синтаксис.
**count**		            | `1`        			                        | Сколько раз можно применить генерируемый промо-код.
**discount**	            | `10%`        			                        | Размер скидки для генерируемого промо-кода.
**seconds**	                | `90`        			                        | Кол-во секунд для генерации. Отсчёт происходит только на страницах, где вызывается сниппет .
**tpl**		         	    | `tpl.msPromoCode2.generate`        			| Шаблон уведомления.


### Примеры

#### Генерировать промо-код на 25% скидки спустя 20 секунд пребывания на сайте

```html
{'!mspc2Generate' | snippet : [
    'discount' => '25%',
    'seconds' => 20,
]}
```


#### Генерировать промо-код с префиксом формата hello12345

```html
{'!mspc2Generate' | snippet : [
    'format' => 'hello[0-9]{5}',
]}
```

[1]: https://file.modx.pro/files/1/4/5/14526526bf347d2880e3c55057359051.png
