# Быстрый старт

miniShop2 поставляется со всеми необходимыми сниппетами и чанками.
Для работы вам нужен MODX не ниже **2.3** и PHP не ниже **5.3**.

## Установка

- [Подключите наш репозиторий][1]
- Установите **pdoTools** - это библиотека для быстрой работы с БД и оформлением, необходима для многих компонентов
- Установите **Theme.Bootstrap** - а это тем оформления Twitter Bootstrap для MODX, под неё заточены стандартные чанки магазина
- Установите сам **miniShop2**

Для тестирования можно использовать [наш хостинг][1], на нём эти дополнения можно выбрать прямо при создании сайта.

[![](https://file.modx.pro/files/5/7/a/57a30e0dc6e98d36ff56e9718a5f0bc0s.jpg)](https://file.modx.pro/files/5/7/a/57a30e0dc6e98d36ff56e9718a5f0bc0.png)

## Шаблоны

Theme.Bootstrap устанавливает 2 шаблона, которые вы можете менять по своему усмотрению.
Вы можете переименовать и использовать их, или создать новые.

Всего нам нужно 3 шаблона.

### Общий

Это шаблон для вывода содержимого обычных ресурсов

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        [[$Head]]
    </head>
    <body>
        [[$Navbar]]
        <div class="container">
            <div id="content" class="main">
                [[*content]]
            </div>
            [[$Footer]]
        </div>
    </body>
</html>
```

Он будет использоваться для главной страницы и корзины.

### Категория

Шаблон вывода категории с постраничным выводом товаров

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        [[$Head]]
    </head>
    <body>
        [[$Navbar]]
        <div class="container">
            <div id="content" class="category">
                [[!pdoPage?
                    &element=`msProducts`
                ]]
                [[!+page.nav]]
            </div>
            [[$Footer]]
        </div>
    </body>
</html>
```

### Товар

Шаблон товара, вместо содержимого вызывается чанк из комплекта ms2

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        [[$Head]]
    </head>
    <body>
        [[$Navbar]]
        <div class="container">
            <div id="content" class="product">
                [[$msProduct.content]]
            </div>
            [[$Footer]]
        </div>
    </body>
</html>
```

Созданные шаблоны можно указать в системных настройках:

- **default_template** - здесь указываем наш общий шаблон
- **ms2_template_category_default** - шаблон категории
- **ms2_template_product_default** - шаблон товара

## Разделы

Главная страница у нас уже есть, просто назначаем ей "Общий" шаблон и пишем в контент:

```php
[[!pdoMenu]]
```

Это покажет нам все документы сайта на главной, чтобы не заблудиться.

Затем [создаём категорию товаров][3] и проверяем, чтобы у неё был шаблон "Категория".

После создания категории, [добавляем в неё несколько товаров][4] и проверяем их шаблон тоже.

Теперь осталось только создать корзину.
Для этого создаём новую страницу с шаблоном "Общий" в корне сайта, и пишем там:

``` php
[[!msCart]]

[[!msOrder]]

[[!msGetOrder]]
```

Эти сниппеты выведут нам корзину, оформление заказа и покажут созданный заказ.

Они сделаны таким образом, чтобы что-то выводить только когда это нужно.
Например, `msCart` и `msOrder` прячутся, если в адресе страницы есть параметр `msorder=id заказа`, а вот `msGetOrder` наоборот, реагирует только на него.

## Миникорзина

Всё, первичная настройка магазина окончена и уже можно заказывать товары.

В качестве финального штриха можно еще зайти в чанк `Navbar` и добавить там вывод миникорзины. Например, вот так:

```html
<div class="navbar-collapse collapse">
    <!-- Это вывод меню, он есть по умолчанию -->
    <ul class="nav navbar-nav">
        [[pdoMenu?
            &startId=`0`
            &level=`1`
            &tplOuter=`@INLINE {{+wrapper}}`
        ]]
    </ul>
    <!-- А вот здесь добавляем миникорзину -->
    <ul class="nav navbar-nav pull-right" style="padding-top:10px;">
        <li>[[!msMiniCart]]</li>
    </ul>
</div>
```

[1]: https://modhost.pro
[2]: https://modstore.pro/info/connection
[3]: /ru/01_Компоненты/02_miniShop2/01_Интерфейс/01_Категория.md
[4]: /ru/01_Компоненты/02_miniShop2/01_Интерфейс/02_Товар.md
