# msExtraFields

Данный плагин по своей сути представляет из себя контроллер, который является промежуточным звеном связывающий события вызываемые в системе и классы и процессоры которые занимаются их обработкой. В его обязаности входит:

- построение всех доп настроек в административной части - правильное сохранение свойств (обновление кеша свойств текущего документа)
- копирование новых свойств при дублировании документов
- отслеживание изменения кол-ва товаров клиентом в корзине, пересчет цены и скидок
- добавление и обработка кастомных TV параметров и многое другое.

Из-за особенностей работы, часть логики, которая должна выполняться в сниппете была переопределена в плагин, следствием этого стало перенос параметров.

| Название                    | По умолчанию                     | Описание                                                                                                                                                             |
| --------------------------- | -------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **&tplOrder_discountprice** | @FILE: order/discountprice.tpl   | Шаблон дополнительной информации выводимый на экран клиента при пересчета размера его скидки, принимает price;                                                       |
| **&tplOrder_product_row**   | @FILE: order/product_row.tpl     | Шаблону строки данных выводимых в истории заказа, принимает value, measure, price, type.;                                                                            |
| **&tplOrder_product_wrap**  | @FILE: order/product_wrap.tpl    | Cтроит данные в истории заказа, принимает name и value;                                                                                                              |
| **&tplPath**                | [[+plugins]]msextrafields/chunks | путь к файлам чанков. `[[+plugins]]`. Значение параметра **plugins** можно переопределить в текущих настройках или посмотреть его значение в сниппете msExtraFields; |

Для правильной работы msExtraFields, важным критерием является приоритет выполнения событий, при использовании других дополнений, которые также оказывают влияние на значения переменных и свойств, по необходиомсти вы можете переопределить этот приоритет, но я крайне не рекомендую этого делать без понимания того, как работает вся система в целом.
