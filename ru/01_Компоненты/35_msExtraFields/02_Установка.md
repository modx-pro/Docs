## Установка

## Требования.

Для установки нужно объзательное наличие miniShop2 и pdoTools версии не ниже
2.1.0-pl. На сервере php 5.3.0 или выше, и во фронтенде не забудьте подключить
[jQuery](https://jquery.com/) (рекомендую использовать 2-ю версию).
Если вы будете использовать JS Bootstrap Multiselect вам также необходимо будет
подключить компонент Bootstrap вручную. Если вы не используете его на своем сайте
вы можете скачать минимальную версию, без дополнений.

Установка происходит через установщик транспортных пакетов, в ходе которой, помимо
копирования файлов, создания/изменения таблиц, сниппетов и плагинов, в системных
настройках компонента minishop2 прописываются дополнительные значения
параметров:

**ms2_order_product_fields - поля таблицы покупок**. Список полей таблицы
заказанных товаров (история покупок). Добавляется:

* **option_msextrafields_order** - JSON представление доп свойств;

[![](https://file.modx.pro/files/f/5/1/f51834fa1beef89d993da8151d9b7139s.jpg)](https://file.modx.pro/files/f/5/1/f51834fa1beef89d993da8151d9b7139.png)

* **msextrafields_order** - парсированный внешний вид доп свойств;

[![](https://file.modx.pro/files/d/5/0/d50f9f43a8d10e4d99715cb3ba746694s.jpg)](https://file.modx.pro/files/d/5/0/d50f9f43a8d10e4d99715cb3ba746694.png)

**ms2_category_grid_fields - поля таблицы товаров**. Список видимых полей
таблицы с товарами категории, через запятую.

* **custom_measure** - единица измерения свойства, можно быстро изменить нажав на значение поля 2 раза левой кнопокй мыши;

* **msextrafields** - краткая информация об установленных свойствах в товаре, при 2-ном нажатии открывается окно быстрого редактирования;

[![](https://file.modx.pro/files/9/a/3/9a3890401715af2a901d9d6e7b20a086s.jpg)](https://file.modx.pro/files/9/a/3/9a3890401715af2a901d9d6e7b20a086.png)

**ms2_product_extra_fields - дополнительные поля товара**. Список дополнительных полей товара, использующихся в магазине.

* **msextrafields** - добавляет элементы управления дополнительными свойствами товара.

[![](https://file.modx.pro/files/a/4/b/a4bb2f40f0240a0e7dc3a0b7bb4cf62bs.jpg)](https://file.modx.pro/files/a/4/b/a4bb2f40f0240a0e7dc3a0b7bb4cf62b.png)

**ms2_product_main_fields - основные поля панели товара**. Список полей панели товара.

* **custom_measure** - единица измерения свойства товара. Список устанавливается из других настроек.

[![](https://file.modx.pro/files/1/d/d/1ddc87586583070bdaa5aaefec17c63fs.jpg)](https://file.modx.pro/files/1/d/d/1ddc87586583070bdaa5aaefec17c63f.png)

## Деинсталяция

При удалении все значения прописанные в системные настройки miniShop2
автоматически удалятся, дополнительные свойства товаров сохраняются в БД, все
остальные данные удаляются. Это связано с подстраховкой пользователя. Если Вы
хотите также удалить таблицы, в таком случае ищите их с саб-префиксом
**...ms2efs_...** По умолчанию основной приставкой таблиц в БД это
**modx_**, то скорее всего полный префикс таблиц будет **modx_ms2efs_**.
