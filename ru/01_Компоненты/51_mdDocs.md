Компонент, позволяющий реализовать аналог docs.modx.pro из любого чистого сайта на MODX Revolution.

# Установка

Необходимо настроить подключение к репозиторию MODSTORE.PRO, после чего через "Установщик приложений" установить mdDocs.
Автоматически установятся:

* pdoTools
* Markdown
* Theme.Bootstrap

## Настройка

После установки необходимо какому-либо ресурсу установить шаблон "mdDocs", после чего ID этого ресурса сохранить в системной настройке **mddocs_docs_page_id**. Если установка произведена на чистый сайт, а других назначений для сайта не предполагается, такой страницей будет главная страница сайта с ID = 1.

## Системные настройки

| Настройка            | Значение по умолчанию          | Описание                                                                                                                                                                                            |
| -------------------- | ------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| mddocs_custom_css    |                                | Пользовательский файл стилей для настройки внешнего вида                                                                                                                                            |
| mddocs_docs_page_id  | 1                              | ID страницы для отображения документации                                                                                                                                                            |
| mddocs_docs_path     | {corePath}gitdocs/             | Путь к документации по умолчанию относительно корня сайта                                                                                                                                           |
| mddocs_git_token     | *<Генерируется при установке>* | Токен для принятия запроса webhook'ом на выполнение git pull                                                                                                                                        |
| mddocs_lang_default  | en                             | Язык по умолчанию                                                                                                                                                                                   |
| mddocs_lang_switch   | {"ru":"РУС","en":"EN"}         | JSON-массив соответствий названий каталогов отображаемым обозначениям языков                                                                                                                        |
| mddocs_logo          |                                | Путь к изображению с логотипом                                                                                                                                                                      |
| mddocs_remote_images | Да                             | Изображения хранятся на удаленном сервере или локально в каталоге документации. Если локально, установите значение "Нет" и убедитесь, что файлы из каталога документации доступны для пользователей |

# Транслитерация адресов

По умолчанию все адреса генерируются на основании названий файлов. Соответственно, русскоязычные названия файлов и каталогов отображажаются на русском.

Если в системе установлен компонент **translit**, то через него автоматически пропускаются все составляющие части адреса.

# Подтягивание из git'a

Для автоматического обновления документации используется webhook: `SITE_URL>/assets/components/mddocs/gitpull.php?token=<TOKEN>`

В настройках git'a необходимо указать полный адрес webhook'a, включая токен для доступа.
Ниже скрин на примере Github'a:

[![](https://file.modx.pro/files/4/a/c/4ace9f4f5606c58f100d6b74ff1a33a4s.jpg)](https://file.modx.pro/files/4/a/c/4ace9f4f5606c58f100d6b74ff1a33a4.png)
