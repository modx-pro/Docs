## NotFoundParamAlert

MODX Revolution плагин который генерирует уведомление если страница не найдена и имеет заданные URL параметры.  
Этот плагин полезен для отлавливания 404 страниц для больших контекстных компаний с UTM или другими URL параметрами.

## Ключевые возможности

* сообщать о не найденных страницах с заданными URL параметрами на почту и/или в лог файл
* задавать список нужных URL параметров используя простые подстановки: ? — один любой символ, * — группа любых символов
* отправлять почту встроенными средствами PHP или MODX

После установки необходимо зайти в Системные настройки и выбрать неймспейс notfoundparamalert и указать желаемые настройки.

## Доступные системные настройки (неймспейс notfoundparamalert):

* parameters – список URL параметров, через запятую, для отслеживания. Допускается использование простых подстановок: ? — один любой символ, * — группа любых символов.
* parameters_all – учитывать ли все переданные URL параметры или только совпадающие.
* alert_method – способ уведомления. Доступные значения: "mail" – отправляет сообщение на email, "log" – логирует сообщение.
* alert_log_level – уровень логирования сообщений. Доступные значения: "error", "warn", "info", "debug".
* mail_method – способ отправки почты. Доступные значения: "php" – встроенная в php функция mail(), "modx" – MODX мейлер.
* mail_from – валидный email с которого будут отправляться уведомления.
* mail_to – валидный email на который будут отправляться уведомления.

В Пространстве имен неймспейс notfoundparamalert есть возможность задать собственный шаблон текста для записи лога/отправки письма.

## Доступные плейсхолдеры для вставки в текст сообщения/письма:

* alertName - название компонента.
* alertMethod - способ уведомления.
* siteName - имя сайта ('site_name').
* siteUrl - адрес сайта ('site_url').
* urlPath - относительный URL страницы.
* urlFull - абсолютный URL страницы.
* requestParams - совпадающие URL параметры.
* ipAddress - IP адрес откуда был сделан запрос.
